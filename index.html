<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MW&K 虛擬幣風險管控</title>
  <link rel="icon" type="image/x-icon" href="assets/images/head_v1.png">

  <!-- Custom Google fonts -->
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,500,300,700' rel='stylesheet' type='text/css'>
  <link href="http://fonts.googleapis.com/css?family=Crimson+Text:400,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.google.com/specimen/Source+Code+Pro" rel="stylesheet" type="text/css">

  <!-- Bootstrap CSS Style -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">

  <!-- Template CSS Style -->
  <link rel="stylesheet" href="assets/css/style.css">

  <!-- Animate CSS  -->
  <link rel="stylesheet" href="assets/css/animate.css">

  <!-- FontAwesome 4.3.0 Icons  -->
  <link rel="stylesheet" href="assets/css/font-awesome.min.css">

  <!-- et line font  -->
  <link rel="stylesheet" href="assets/css/et-line-font/style.css">

  <!-- BXslider CSS  -->
  <link rel="stylesheet" href="assets/css/bxslider/jquery.bxslider.css">

  <!-- Owl Carousel CSS Style -->
  <link rel="stylesheet" href="assets/css/owl-carousel/owl.carousel.css">
  <link rel="stylesheet" href="assets/css/owl-carousel/owl.theme.css">
  <link rel="stylesheet" href="assets/css/owl-carousel/owl.transitions.css">

  <!-- Magnific-Popup CSS Style -->
  <link rel="stylesheet" href="assets/css/magnific-popup/magnific-popup.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
	
</head>
<body>
  <!-- Hero
  ================================================== -->
    <section>
      <div id="hero-section" class="landing-hero" data-stellar-background-ratio="0">
        <div class="hero-content">
          <div class="container">
            <div class="row">
              <div class="col-sm-8 col-sm-offset-2">

                <div class="hero-text">
                  <h1>MW&K Crypto</h1>
                </div> <!-- end hero-text -->
                <div class="form-group">
                  <label for="buy_price">開倉價</label>
                  <input class="form-control br-b" type="numberNew" inputmode="numeric" name="buy_price" id="buy_price">
                  <label for="stop_loss_price">停損價</label>
                  <input class="form-control br-b" type="numberNew" inputmode="numeric" name="stop_loss_price" id="stop_loss_price">
                  <label for="stop_profit_price">停利價</label>
                  <input class="form-control br-b" type="numberNew" inputmode="numeric" name="stop_profit_price" id="stop_profit_price">
                  <label for="this_loss_u">本次可虧金額</label>
                  <input class="form-control br-b" type="numberNew" inputmode="numeric" name="this_loss_u" id="this_loss_u" value="20">
                  <label for="leverage_set">槓桿倍數</label>
                  <input class="form-control br-b" type="numberNew" inputmode="numeric" name="leverage_set" id="leverage_set" value="20">
                </div>
                <div class="hero-btn">
                  <a href="#prices-section" class="btn btn-clean" id="mei_caculate">計算</a>
                </div> <!-- end hero-btn -->

              </div> <!-- end col-md-6 -->
            </div> <!-- end row -->
          </div> <!-- End container -->
        </div> <!-- End hero-content -->
      </div> <!-- End hero-section -->
    </section>
    <!-- End hero section -->

    <!-- Prices
    ================================================== -->
    <section>
      <div id="prices-section" class="pad-sec">
        <div class="container">
          <div class="title-section text-center animated out" data-animation="fadeInUp" data-delay="0">
            <div class="row">
              <div class="col-sm-8 col-sm-offset-2">
                <h2>風險管控計算結果</h2>
                <!-- <hr> -->
                <p>Risk Management By Yu-Mei</p>
              </div>
            </div> <!-- End row -->
          </div> <!-- end title-section -->

          <div class="row">
            <div class="col-sm-12">
              <ul class="price-table animated out" data-animation="fadeInLeft" data-delay="0">
                  <li class="title-price">
                    <h3>風報比</h3>
                  </li>
                  <li class="price-box">
                      <p class="price" id="hazard_ratio"></p>
                  </li>
                  <li class="title-price">
                    <h3>槓桿倍數</h3>
                  </li>
                  <li class="price-box">
                      <p class="price" id="leverage"></p>
                  </li>
                  <li class="title-price">
                    <h3>停損比例</h3>
                  </li>
                  <li class="price-box">
                      <p class="price" id="stop_loss_percent"></p>
                  </li>
                  <li class="title-price">
                    <h3>可買進數量</h3>
                  </li>
                  <li class="price-box">
                      <p class="price" id="can_buy_unit"></p>
                  </li>
              </ul>
            </div> <!-- end col-sm-12 -->

          </div> <!-- end row -->
        </div> <!-- end container -->
      </div>
    </section>
    <!-- End prices section -->

    <!-- TradingView Widget BEGIN -->
    <section>
      <div id="prices-section" class="pad-sec">
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <div class="tradingview-widget-copyright"><a href="https://tw.tradingview.com" rel="noopener" target="_blank"><span class="blue-text">虛擬幣</span></a>由TradingView提供</div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
          {
          "colorTheme": "light",
          "dateRange": "1D",
          "showChart": true,
          "locale": "zh_TW",
          "largeChartUrl": "",
          "isTransparent": false,
          "showSymbolLogo": true,
          "showFloatingTooltip": true,
          "width": "400",
          "height": "660",
          "plotLineColorGrowing": "rgba(133, 32, 12, 1)",
          "plotLineColorFalling": "rgba(19, 79, 92, 1)",
          "gridLineColor": "rgba(240, 243, 250, 0)",
          "scaleFontColor": "rgba(106, 109, 120, 1)",
          "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
          "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
          "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
          "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
          "symbolActiveColor": "rgba(41, 98, 255, 0.12)",
          "tabs": [
            {
              "title": "虛擬幣",
              "symbols": [
                {
                  "s": "BINANCE:BTCUSDT.P"
                },
                {
                  "s": "BINANCE:ETHUSDT.P"
                }
              ]
            }
          ]
        }
          </script>
        </div>
        <!-- TradingView Widget END -->
      </div>
    </section>

    <!-- Footer
    ================================================== -->
    <footer>
      <div id="footer-section" class="text-center">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 col-sm-offset-2">
              <p class="copyright">
                &copy; Created By MW&K
              </p>
            </div> <!-- End col-sm-8 -->
          </div> <!-- End row -->
        </div> <!-- End container -->
      </div> <!-- End footer-section  -->
    </footer>
    <!-- End footer -->

  </div> <!-- End wrapper -->

  <!-- Back-to-top
  ================================================== -->
  <div class="back-to-top">
    <i class="fa fa-angle-up fa-3x"></i>
  </div> <!-- end back-to-top -->

  <!-- JS libraries and scripts -->
  <script src="assets/js/jquery-1.11.3.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="assets/js/bootstrap-hover-dropdown.min.js"></script>
  <script src="assets/js/jquery.appear.min.js"></script>
  <script src="assets/js/jquery.bxslider.min.js"></script>
  <script src="assets/js/jquery.owl.carousel.min.js"></script>
  <script src="assets/js/jquery.countTo.js"></script>
  <script src="assets/js/jquery.easing.1.3.js"></script>
  <script src="assets/js/jquery.imagesloaded.min.js"></script>
  <script src="assets/js/jquery.isotope.js"></script>
  <script src="assets/js/jquery.placeholder.js"></script>
  <script src="assets/js/jquery.smoothscroll.js"></script>
  <script src="assets/js/jquery.stellar.min.js"></script>
  <script src="assets/js/jquery.waypoints.js"></script>
  <script src="assets/js/jquery.fitvids.js"></script>
  <script src="assets/js/jquery.magnific-popup.min.js"></script>
  <script src="assets/js/jquery.ajaxchimp.min.js"></script>
  <script src="assets/js/jquery.countdown.js"></script>
  <script src="assets/js/jquery.navbar-scroll.js"></script>
  <script src="assets/js/main.js"></script>
  <script>
    function caculate() {
      var buy_price = $("#buy_price");
      var stop_loss_price = $("#stop_loss_price");
      var stop_profit_price = $("#stop_profit_price");
      var this_loss_u = $("#this_loss_u");
      var leverage_set = $("#leverage_set");

      stop_loss_percent_rlt = -(stop_loss_price.val() - buy_price.val())/buy_price.val()
      var stop_loss_percent_text = $("#stop_loss_percent");
      stop_loss_percent_text.text(Math.round(stop_loss_percent_rlt*10000)/100+"%");

      leverage_rlt = Math.round(1/stop_loss_percent_rlt)
      var leverage_text = $("#leverage");
      console.log(leverage_set.val());
      if (leverage_set.val() != ''){
        leverage_text.text(leverage_set.val());
        leverage_rlt = leverage_set.val();
      }else{
        leverage_text.text(leverage_rlt);
      }

      hazard_ratio_rlt = (stop_profit_price.val()-buy_price.val())/-(stop_loss_price.val()-buy_price.val())
      var hazard_ratio_text = $("#hazard_ratio");
      hazard_ratio_text.text(Math.round(hazard_ratio_rlt*100)/100+"R");

      can_buy_unit_rlt = this_loss_u.val()*leverage_rlt
      var can_buy_unit_text = $("#can_buy_unit");
      can_buy_unit_text.text(can_buy_unit_rlt+"(U)");
    }

    var caculate_btn = document.querySelector('#mei_caculate');
    caculate_btn.addEventListener('click', function() {
      caculate();
    },{ passive: false });
  </script>

</body>
</html>